<aside>
💡 2장에서는 타입 시스템의 기초부터 살펴보자. 타입 시스템이란 무엇인지, 어떻게 사용해야 하는지, 무엇을 결정해야 하는지, 가급적 사용하지 말아야 할 기능은 무엇인지 알아보자

</aside>

## Item6 편집기를 사용하여 타입 시스템 탐색하기

- 타입 스크립트를 설치하면, 다음 두 가지를 실행할 수 있다.
  - 타입스크립트 컴파일러(tsc)
  - 단독으로 실행할 수 있는 타입스크립트 서버(tsserver)
- 타입스크립트 서버는 ‘언어 서비스’를 제공한다. 코드 자동 완성, 명세 검사, 검색, 리팩터링이 포함된다. 보통은 편집기를 통해서 언어 서비스를 사용하는데, 타입스크립트 서버에서 언어 서비스를 제공하도록 설정하는게 좋다
- 편집기는 타입스크립트가 언제 타입 추론을 수행할 수 있는지 대한 개념을 잡게 해준다.
- 보통의 경우 심벌 위에 마우스 커서를 대면 타입스크립트가 그 타입을 어떻게 판단하고 있는지 확인할 수 있다.
- 그림 2-2를 보면 함수의 반환 타입이 number라는 것이다. 이 타입이 기대한 것과 다르다면 타입 선언을 직접 명시하고, 실제 문제가 발생하는 부분을 찾아 봐야한다.
- 편집기상의 타입 오류를 살펴보는 것도 타입 시스템의 성향을 파악하는 데 좋은 방법입니다. 예를 들어, 다음은 id에 해당하거나 기본값인 HTMLELement를 반환하는 함수이다.

```jsx
function getElement(elOrId: string | HTMLElement | null): HTMLElement {
  if (typeof elOrld === "object") {
    return elOrld;
    // 'HTMLElement | null' 형식은 'HTMLElement1 형식에 할당할 수
    // 없습니다.
  } else if (elOrld === null) {
    return document.body;
  } else {
    const el = document.getElementByld(elOrid);
    return el;
    // --------------- 'HTMLElement | null' 형식은'HTMLElement'형식에 할당할 수 없습니다
  }
}
```

- 첫 번째 if 분기문의 의도는 단지 HTMLELement라는 객체를 골라내는 것인데 자바스크립트에서 typeof null은 ‘object’이므로, elOrId는 여전히 분기문 내에서 null일 가능성이 있다.
- 그러므로 처음에 null 체크를 추가해서 바로잡는다. 두 번째 오류는 document.getElementById가 null을 반환할 가능성이 있어서 발생했고, 첫 번째 오류와 동일하게 null 체크를 추가하고 예외를 던져야 한다.

## Item7 타입이 값들의 집합이라고 생각하기

- 런타임에 모든 변수는 자바스크립트 세상의 값으로부터 정해지는 각자의 고유한 값을 가진다.
- 그러나 코드가 실해되기 전, 즉 타입스크립트가 오류를 체크하는 순간에는 ‘타입’을 가지고 있다. ‘할당 가능한 값들의 집합’이 타입이라고 생각하면 된다. 이 집합은 타입의 ‘범위’ 라고 부르기도 한다.
- 가장 작은 집합은 아무 값도 포함하지 않는 공집합이며, 타입스크립트에서는 never 타입이다. never 타입으로 선언된 변수의 범위는 공집합이기 떄문에 아무런 값도 할당할 수 없다.

```jsx
const x: naver = 12;
// ~ '12' 형식은 'never' 형식에 할당할 수 없다
```

- 그 다음으로 작은 집합은 한 가지 값만 포함하는 타입이다. 이들은 타입스클비트에서 유닛타입이라고도 불리틑 리터럴 타입이다.

```jsx
type A = "A";
type B = "B";
type Twelve = 12;
```

- 두 개 혹은 세 개로 묶으려면 유니온타입을 사용한다.

```jsx
type AB = "A" | "B";
type AB12 = "A" | "B" | 12;
```

- 유니온 타입은 값 집합들의 합집합을 일컫습니다.
- 집합의 관점에서, 타입 체커의 주요 역할은 하나의 집합이 다른 집합의 부분 집합인지 검사하는 것이라고 볼 수 있다.

```tsx
//정상, {"A", "B"}는 {"A", "B"}의 부분 집합입니다.
const ab: AB = Math.random() < 0.5 ? "A" : "B";
const abl2: AB12 = ab; // 정상, {"A", "B"}는 {"A", "B", 12}의 부분 집합입니다.

declare let twelve: AB12;
const back: AB = twelve;
// ------ 'AB12' 형식은 'AB' 형식에 할당할 수 없습니다.
// ‘12’ 형식은 'AB' 형식에 할당할 수 없습니다.
```

-
